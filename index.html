<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–î–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞–ª–æ–≥–∞</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body{font-family:system-ui,Arial;margin:16px}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .card{border:1px solid #ddd;border-radius:10px;padding:12px;cursor:pointer}
    .card.sel{border-color:#4b7bec;background:#eef4ff}
    .actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}
    button{padding:10px 12px;border-radius:10px;border:0;background:#4b7bec;color:#fff;cursor:pointer}
    button.secondary{background:#eee;color:#111}
  </style>
</head>
<body>
  <h2>–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h2>
  <div id="grid" class="grid"></div>
  <div class="actions">
    <button onclick="sendDownloadToBot()">–°–∫–∞—á–∞—Ç—å –≤ Telegram</button>
    <button class="secondary" onclick="downloadDirect()">–°–∫–∞—á–∞—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ</button>
  </div>

<script>
const assets = {
  "business-center": {icon:"üè¢", title:"–ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä", filename:"docs_business_center.docx", url:"https://github.com/11021983A/Docky/raw/main/1.docx"},
  "shopping-center": {icon:"üõçÔ∏è", title:"–¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä", filename:"docs_shopping_center.docx", url:"https://github.com/11021983A/Docky/raw/main/1.docx"},
  "warehouse": {icon:"üì¶", title:"–°–∫–ª–∞–¥", filename:"docs_warehouse.docx", url:"https://github.com/11021983A/Docky/raw/main/1.docx"},
  "hotel": {icon:"üè®", title:"–ì–æ—Å—Ç–∏–Ω–∏—Ü–∞", filename:"docs_hotel.docx", url:"https://github.com/11021983A/Docky/raw/main/1.docx"},
  "equipment": {icon:"‚öôÔ∏è", title:"–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", filename:"docs_equipment.docx", url:"https://github.com/11021983A/Docky/raw/main/1.docx"},
};

let selected = Object.keys(assets)[0];
const tg = window.Telegram?.WebApp;

function render() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  for (const [key,a] of Object.entries(assets)) {
    const div = document.createElement("div");
    div.className = "card" + (key===selected ? " sel": "");
    div.innerHTML = `<div style="font-size:28px">${a.icon}</div><div><b>${a.title}</b><div style="color:#666">${a.filename}</div></div>`;
    div.onclick = () => { selected = key; render(); };
    grid.appendChild(div);
  }
}

function sendDownloadToBot() {
  if (!tg) { alert("–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ Telegram."); return; }
  tg.ready();
  tg.sendData(JSON.stringify({action:"download", assettype:selected}));
  tg.close();
}

function downloadDirect() {
  const a = assets[selected];
  const link = document.createElement("a");
  link.href = a.url;
  link.download = a.filename;
  link.target = "_blank";
  document.body.appendChild(link);
  link.click();
  link.remove();
}

render();
</script>
</body>
</html>
